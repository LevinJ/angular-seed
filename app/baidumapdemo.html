<!DOCTYPE html>  
<html>  
    <head>  
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />  
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
        <title>Baidu Map Test</title>  
        <style type="text/css">  
            html{height:100%}  
            body{height:100%;margin:0px;padding:0px}  
            #container{height:100%}  
        </style>  
        <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.5&ak=A7dfcf11e6de6b76103a36fdb226cf01"></script> 
        <!--         http://api.map.baidu.com/api?v=1.5&key=A7dfcf11e6de6b76103a36fdb226cf01&callback=initialize"; -->
         <script type="text/javascript" src="geoutil.js">
        </script>
    </head>  

    <body>  
        <div id="container"></div> 
        <script type="text/javascript">
            function showMap(point){
                var map = new BMap.Map("container");          // 创建地图实例  
//            var point = new BMap.Point(121.580714, 31.250162);  // 创建点坐标  
//            var point = new BMap.Point(121.587201395230, 31.256272427520);  // 创建点坐标
            map.centerAndZoom(point, 18);                 // 初始化地图，设置中心点坐标和地图级别  
            
            
            var marker = new BMap.Marker(point);        // 创建标注    
            map.addOverlay(marker);  
            }
            
            
           function success(pos) {
                    var crd = pos.coords;
                  //  var myLatlng = new google.maps.LatLng(crd.latitude, crd.longitude);
                    var point = new BMap.Point(crd.longitude, crd.latitude); 
                    showMap(point);
                    console.log('Your current position is:');
                    console.log('Latitude : ' + crd.latitude);
                    console.log('Longitude: ' + crd.longitude);
                    console.log('More or less ' + crd.accuracy + ' meters.');
                }
                g_pos.getCurrentPosition(success);
        </script>  
    </body>  
</html>  